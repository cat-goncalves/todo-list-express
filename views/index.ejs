<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="description" content="Your description goes here">
  <meta name="keywords" content="one, two, three">

  <title>To Do List</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- external CSS link -->
  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>To-Do List</h1>
  <!-- <p>Enter a task below and click to cross it off of the list. </p> -->
  <form action="/tasks" method="POST">
    <input name="task" id='inputTask' type="text" placeholder='Enter a Task'>
    <button type="submit" id='addTask'>Add to List</button>
  </form>
  <section class="listArea clearfix">

    <div class="lines"></div>

    <ul class="list" id="list">
      <% for(var i  = tasks.length -1; i>= 0; i--) {%>
        <% let decoration = tasks[i].finished ? 'line-through' : 'none' %>
        <% let textColor = tasks[i].finished ? 'rgb(215, 219, 221)' : 'rgb(0, 0, 0)' %>
        <li class="task" data-id="<%= tasks[i]._id %>">
          <span style="text-decoration: <%= decoration %>; color: <%= textColor %> "> <%= tasks[i].task %></span>
          <span><i class="fas fa-check-circle" aria-hidden="true"></i></span>
          <span><i class="fa fa-trash" aria-hidden="true"></i></span>
          <!-- Can add icon to show completed based on the value of tasks[i].finished -->
        </li>
        <% } %>
    </ul>
  </form>
  </section>
  <h2>You have <span id='remaining'>
      <%= tasks.length %>
    </span> tasks today. </h2>
  <!-- currently showing total tasks but could show remaining tasks later -->

  <button type="submit" id="clearAll">Clear List</button>
  <button id="clearCompleted">Clear Completed</button>
  <script src="https://kit.fontawesome.com/78f0fc0f25.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="main.js"></script>
</body>

</html>